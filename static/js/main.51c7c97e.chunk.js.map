{"version":3,"sources":["logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","onClick","onDeleteCardClick","type","name","onCardClick","imagePopupOpen","link","onCardLike","length","Main","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","data","onImagePopupClick","Footer","PopupWithForm","isOpen","onClose","title","children","onSubmit","buttonTitle","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","id","minLength","maxLength","required","ImagePopup","customFetch","url","headers","fetch","then","res","ok","json","Promise","reject","statusText","api","baseUrl","this","method","body","JSON","stringify","profileInfo","cardId","avatarSrc","authorization","EditAvatarPopup","avatarElement","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","onAddPlaceSubmit","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","cardsData","setCardsData","closeAllPopups","getInitialCards","cardArray","catch","err","console","log","getUserInfo","Provider","item","deleteLike","newCard","likeCard","newData","editProfile","serverResponse","createCard","avatarImage","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51c7c97e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.918b3ff6.svg\";","import React from \"react\";\r\nimport logo from \"../logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"header-logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n \r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n    props.imagePopupOpen();\r\n  }\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  function handleDeleteClick() {\r\n    props.onDeleteCardClick(props.card);\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        type=\"button\"\r\n        className={`element__delete ${\r\n          isOwn ? \"element__delete\" : \"element__delete_hidden\"\r\n        }`}\r\n        name=\"delete button\"\r\n      />\r\n      <img\r\n        onClick={handleClick}\r\n        className=\"element__image\"\r\n        alt={props.card.alt}\r\n        src={props.card.link}\r\n      />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\"> {props.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            onClick={handleLikeClick}\r\n            type=\"button\"\r\n            className={`element__like-btn ${\r\n              isLiked ? \"element__like-btn_active\" : \"\"\r\n            }`}\r\n            aria-label=\"like-button\"\r\n          />\r\n          <span className=\"element__likes-count\">\r\n            {props.card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"profile\">\r\n        <button\r\n          onClick={props.onEditAvatarClick}\r\n          className=\"profile__change-avatar\"\r\n          aria-label=\"edit picture\"\r\n          name=\"edit picture\"\r\n          type=\"button\"\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={`${currentUser.avatar}`}\r\n            alt={`${currentUser.alt}`}\r\n          />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-top\">\r\n            <h1 className=\"profile__title\">{`${currentUser.name}`}</h1>\r\n            <button\r\n              onClick={props.onEditProfileClick}\r\n              className=\"profile__edit-btn\"\r\n              aria-label=\"edit button\"\r\n              name=\"edit button\"\r\n              type=\"button\"\r\n            />\r\n          </div>\r\n          <p className=\"profile__job\">{`${currentUser.about}`}</p>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlaceClick}\r\n          className=\"profile__add-btn\"\r\n          aria-label=\"add button\"\r\n          name=\"add button\"\r\n          type=\"button\"\r\n        />\r\n      </div>\r\n      <div className=\"elements\">\r\n        {props.cards.map((data) => {\r\n          return (\r\n            <Card\r\n              card={data}\r\n              onCardClick={props.onCardClick}\r\n              onDeleteCardClick={props.onDeleteCardClick}\r\n              onCardLike={props.onCardLike}\r\n              key={data._id}\r\n              imagePopupOpen={props.onImagePopupClick}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_${props.name} ${\r\n        props.isOpen && \"modal_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"modal__container\">\r\n        <button\r\n          onClick={props.onClose}\r\n          type=\"button\"\r\n          className=\"modal__close-btn\"\r\n          aria-label=\"close button\"\r\n          name=\"close button\"\r\n        />\r\n        <form className=\"form\" name={`${props.name}`}>\r\n          <fieldset className=\"form__fieldset\">\r\n            <h2 className=\"form__title\">{`${props.title}`}</h2>\r\n            {props.children}\r\n            <button\r\n              onClick={props.onSubmit}\r\n              type=\"submit\"\r\n              name=\"submit button\"\r\n              className=\"form__submit-btn\"\r\n            >\r\n              {`${props.buttonTitle}`}\r\n            </button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React, { useState } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmitUser(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({ name, about: description });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* profile */\r\n      name=\"profile\"\r\n      title=\"Edit Profile\"\r\n      buttonTitle=\"save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmitUser}\r\n    >\r\n      <input\r\n        onChange={handleChangeName}\r\n        id=\"name-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={`${name}`}\r\n        className=\"form__text-input form__text-input_type_name\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n      />\r\n      <span id=\"name-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n      <input\r\n        onChange={handleChangeDescription}\r\n        id=\"job-input\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        value={`${description}`}\r\n        className=\"form__text-input form__text-input_type_job\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n      />\r\n      <span id=\"job-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type${props.name} ${\r\n        props.isOpen && \"modal_opened\" \r\n      }`}\r\n    >\r\n      <div className=\"modal__container modal__container_type_popup\">\r\n        <button\r\n          onClick={props.onClose}\r\n          type=\"button\"\r\n          className=\"modal__close-btn\"\r\n          aria-label=\"close button popup\"\r\n          name=\"popup close button\"\r\n        />\r\n        <img\r\n          className=\"modal__img\"\r\n          alt={props.card.name}\r\n          src={props.card.link}\r\n        />\r\n        <h2 className=\"modal__title\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","const customFetch = (url, headers) =>\r\n  fetch(url, headers).then((res) =>\r\n    res.ok ? res.json() : Promise.reject(res.statusText)\r\n  );\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this.baseUrl = baseUrl;\r\n    this.headers = headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return customFetch(`${this.baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this.headers,\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return customFetch(`${this.baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this.headers,\r\n    });\r\n  }\r\n\r\n  createCard(data) {\r\n    return customFetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  editProfile(profileInfo) {\r\n    return customFetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(profileInfo),\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return customFetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      headers: this.headers,\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n  likeCard(cardId) {\r\n    return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      headers: this.headers,\r\n      method: \"PUT\",\r\n    });\r\n  }\r\n  deleteLike(cardId) {\r\n    return customFetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      headers: this.headers,\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n  avatarImage(avatarSrc) {\r\n    return customFetch(`${this.baseUrl}/users/me/avatar`, {\r\n      headers: this.headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(avatarSrc),\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n  headers: {\r\n    authorization: \"c1447c07-9b09-4ed7-9490-5ede153a83d9\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useRef } from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarElement = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({avatar:avatarElement.current.value});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* change avatar */\r\n      name=\"change-picture\"\r\n      title=\"Change profile picture\"\r\n      buttonTitle=\"Save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatarElement}\r\n        id=\"change-picture-input\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        className=\"form__text-input form__text-input_type_change-picture\"\r\n        placeholder=\"profile Url\"\r\n        required\r\n      />\r\n      <span id=\"change-picture-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const name = React.useRef();\r\n  const link = React.useRef();\r\n\r\n  function handleSubmitAddPlace(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlaceSubmit({\r\n      name: name.current.value,\r\n      link: link.current.value,\r\n    });\r\n    name.current.value = \"\";\r\n    link.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      /* Add Ele,emt */\r\n      name=\"add-element\"\r\n      title=\"New place\"\r\n      buttonTitle=\"Create\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmitAddPlace}\r\n    >\r\n      <input\r\n        ref={name}\r\n        id=\"name-element-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        className=\"form__text-input form__text-input_type_name-element\"\r\n        placeholder=\"Title\"\r\n        minLength={1}\r\n        maxLength={30}\r\n        required\r\n      />\r\n      <span id=\"name-element-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n      <input\r\n        ref={link}\r\n        id=\"img-element-input\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        className=\"form__text-input form__text-input_type_img-element\"\r\n        placeholder=\"Image Url\"\r\n        required\r\n      />\r\n      <span id=\"img-element-input-error\" className=\"form__input-error\">\r\n        {\" \"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport { useState, useEffect } from \"react\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardsData, setCardsData] = useState([]);\n\n  function handleCardLike(cardsData) {\n    const isLiked = cardsData.likes.some(\n      (item) => item._id === currentUser._id\n    );\n    if (!isLiked)\n      api\n        .likeCard(cardsData._id)\n        .then((newCard) => {\n          setCardsData((cards) =>\n            cards.map((card) => (card._id === cardsData._id ? newCard : card))\n          );\n        })\n        .catch((err) => console.log(`${err}`));\n    else\n      api\n        .deleteLike(cardsData._id)\n        .then((newCard) => {\n          setCardsData((cards) =>\n            cards.map((card) => (card._id === cardsData._id ? newCard : card))\n          );\n        })\n        .catch((err) => console.log(`${err}`));\n  }\n\n  function handleCardDelete() {\n    api\n      .deleteCard(selectedCard._id)\n      .then(() => {\n        setCardsData((cards) =>\n          cards.filter((card) => card._id !== selectedCard._id)\n        );\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`${err}`));\n  }\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cardArray) => {\n        return setCardsData(cardArray);\n      })\n      .catch((err) => console.log(`${err}`));\n  }, []);\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        const userData = res;\n        setCurrentUser(userData);\n      })\n      .catch((err) => console.log(`${err}`));\n  }, []);\n\n  const handleDeleteClick = (e) => {\n    e.preventDefault();\n    handleCardDelete(selectedCard._id);\n  };\n\n  const imagePopupOpen = () => {\n    setIsImagePopupOpen(true);\n  };\n\n  const handleCardClick = (props) => {\n    setSelectedCard(props);\n  };\n\n  const handleDeleteCardClick = (card) => {\n    setIsDeletePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  const handleUpdateUser = (newData) => {\n    api\n      .editProfile(newData)\n      .then((serverResponse) => {\n        return setCurrentUser(serverResponse);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`${err}`));\n  };\n\n  const handleUpdateAvatar = (newData) => {\n    api\n      .avatarImage(newData)\n      .then((serverResponse) => {\n        return setCurrentUser(serverResponse);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`${err}`));\n  };\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .createCard(newCard)\n      .then((res) => {\n        return setCardsData([res, ...cardsData]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`${err}`));\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n\n          <Main\n            onEditAvatarClick={handleEditAvatarClick}\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onImagePopupClick={imagePopupOpen}\n            onDeleteCardClick={handleDeleteCardClick}\n            cards={cardsData}\n            onCardLike={handleCardLike}\n          />\n          <Footer />\n\n          <ImagePopup\n            name=\"pop-up\"\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n\n          <EditProfilePopup\n            /* profile */\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            /* Add Element */\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlaceSubmit={handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            /* change avatar */\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            /* delete */\n            name=\"delete-card\"\n            title=\"Are you sure?\"\n            buttonTitle=\"Yes\"\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onSubmit={handleDeleteClick}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}